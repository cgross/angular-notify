!function(){"use strict";function a(){function a(a){angular.extend(d,a)}return{setOptions:a,$get:b}}function b(a,b,e,f,g){var h=[],i=[],j=function(j){j=c(j);var k=j.scope?j.scope.$new():g.$new();if(k.$position=j.position?j.position:d.position,k.$message=j.message,k.$classes=j.classes,k.$messageTemplate=j.messageTemplate,j.maximumOpen>0)for(var l=i.length+1-j.maximumOpen,m=0;l>m;m++)i[m].$close();b.get(j.templateUrl,{cache:f}).success(function(b){var c=e(b)(k);if(c.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(a){("opacity"===a.propertyName||0===a.currentTarget.style.opacity||a.originalEvent&&"opacity"===a.originalEvent.propertyName)&&(c.remove(),h.splice(h.indexOf(c),1),i.splice(i.indexOf(k),1),g())}),j.messageTemplate){for(var d,f=0;f<c.children().length;f++)if(angular.element(c.children()[f]).hasClass("cg-notify-message-template")){d=angular.element(c.children()[f]);break}if(!d)throw new Error("cgNotify could not find the .cg-notify-message-template element in "+j.templateUrl+".");d.append(e(j.messageTemplate)(k))}angular.element(j.container).append(c),h.push(c),"center"===k.$position&&a(function(){k.$centerMargin="-"+c[0].offsetWidth/2+"px"}),k.$close=function(){c.css("opacity",0).attr("data-closing","true"),g()};var g=function(){for(var a=0,b=j.startTop,c=h.length-1;c>=0;c--){var d=10,e=h[c],f=e[0].offsetHeight,g=b+f+d;e.attr("data-closing")?g+=20:b+=f+j.verticalSpacing,e.css("top",g+"px").css("margin-top","-"+(f+d)+"px").css("visibility","visible"),a++}};a(function(){g()}),j.duration>0&&a(function(){k.$close()},j.duration)}).error(function(a){throw new Error("Template specified for cgNotify ("+j.templateUrl+") could not be loaded. "+a)});var n={};return n.close=function(){k.$close&&k.$close()},Object.defineProperty(n,"message",{get:function(){return k.$message},set:function(a){k.$message=a}}),i.push(k),n};return j._defaultOptions=d,j._setupArgs=c,j.closeAll=function(){for(var a=h.length-1;a>=0;a--){var b=h[a];b.css("opacity",0)}},j}function c(a){return"object"!=typeof a&&(a={message:a}),a.startTop=a.startTop||d.startTop,a.verticalSpacing=a.verticalSpacing||d.verticalSpacing,a.duration=a.duration||d.duration,a.position=a.position||d.position,a.templateUrl=a.templateUrl||d.templateUrl,a.container=a.container||d.container,a.classes=a.classes||"",a.maximumOpen=a.maximumOpen||d.maximumOpen,a}angular.module("cgNotify",[]).provider("notify",a);var d={startTop:10,verticalSpacing:15,duration:1e4,templateUrl:"angular-notify.html",position:"center",container:document.body,maximumOpen:0};b.$inject=["$timeout","$http","$compile","$templateCache","$rootScope"]}(),angular.module("cgNotify").run(["$templateCache",function(a){"use strict";a.put("angular-notify.html","<div class=\"cg-notify-message\" ng-class=\"[$classes, \n    $position === 'center' ? 'cg-notify-message-center' : '',\n    $position === 'left' ? 'cg-notify-message-left' : '',\n    $position === 'right' ? 'cg-notify-message-right' : '']\"\n    ng-style=\"{'margin-left': $centerMargin}\">\n\n    <div ng-show=\"!$messageTemplate\">\n        {{$message}}\n    </div>\n\n"+'    <div ng-show="$messageTemplate" class="cg-notify-message-template">\n        \n    </div>\n\n    <button type="button" class="cg-notify-close" ng-click="$close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="cg-notify-sr-only">Close</span>\n    </button>\n\n</div>')}]);