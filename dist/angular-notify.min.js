angular.module("cgNotify",[]).factory("notify",["$timeout","$http","$compile","$templateCache","$rootScope",function(a,b,c,d,e){var f=10,g=15,h=1e4,i="angular-notify.html",j="center",k=document.body,l=[],m=function(m){"object"!=typeof m&&(m={message:m}),m.templateUrl=angular.isString(m.templateUrl)&&m.templateUrl.length>0?m.templateUrl:i,m.position=angular.isString(m.position)?m.position:j,m.container=angular.isObject(m.container)?m.container:k,m.classes=angular.isString(m.classes)?m.classes:"",m.duration=angular.isNumber(m.duration)?m.duration:h,m.onOpen=angular.isFunction(m.onOpen)?m.onOpen:void 0,m.onClose=angular.isFunction(m.onClose)?m.onClose:void 0;var n=angular.isDefined(m.scope)?m.scope.$new():e.$new();n.$message=m.message,n.$classes=m.classes,n.$messageTemplate=m.messageTemplate,angular.isFunction(m.onClick)&&(n.$click=function(){m.onClick(n.$message)}),b.get(m.templateUrl,{cache:d}).success(function(b){var d=c(b)(n);if(d.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(a){("opacity"===a.propertyName||"0"===a.currentTarget.style.opacity||a.originalEvent&&"opacity"===a.originalEvent.propertyName)&&(d.remove(),l.splice(l.indexOf(d),1),i())}),m.messageTemplate){for(var e,h=0;h<d.children().length;h++)if(angular.element(d.children()[h]).hasClass("cg-notify-message-template")){e=angular.element(d.children()[h]);break}if(!e)throw new Error("cgNotify could not find the .cg-notify-message-template element in "+m.templateUrl+".");e.append(c(m.messageTemplate)(n))}angular.element(m.container).append(d),l.push(d),a(function(){switch(m.position){case"center":n.$classes+="cg-notify-message-center",n.$centerStyle={"margin-left":"-"+d[0].offsetWidth/2+"px"};break;case"left":n.$classes+=" cg-notify-message-left";break;case"right":n.$classes+=" cg-notify-message-right"}}),n.$close=function(){d.css("opacity",0).attr("data-closing","true"),i(),angular.isDefined(m.onClose)&&m.onClose(n.$message)};var i=function(){for(var a=f,b=l.length-1;b>=0;b--){var c=10,d=l[b],e=d[0].offsetHeight,h=a+e+c;d.attr("data-closing")?h+=20:a+=e+g,d.css("top",h+"px").css("margin-top","-"+(e+c)+"px").css("visibility","visible")}};a(function(){i()}),m.duration>0&&a(function(){n.$close()},m.duration),angular.isDefined(m.onOpen)&&m.onOpen(n.$message)}).error(function(a){throw new Error("Template specified for cgNotify ("+m.templateUrl+") could not be loaded. "+a)});var o={};return o.close=function(){n.$close&&n.$close()},Object.defineProperty(o,"message",{get:function(){return n.$message},set:function(a){n.$message=a}}),o};return m.config=function(a){f=angular.isNumber(a.startTop)?a.startTop:f,g=angular.isNumber(a.verticalSpacing)?a.verticalSpacing:g,h=angular.isNumber(a.duration)?a.duration:h,i=angular.isString(a.templateUrl)&&a.templateUrl.length>0?a.templateUrl:i,j=angular.isString(a.position)?a.position:j,k=angular.isObject(a.container)?a.container:k},m.closeAll=function(){for(var a=l.length-1;a>=0;a--){var b=l[a];b.css("opacity",0)}},m}]),angular.module("cgNotify").run(["$templateCache",function(a){"use strict";a.put("angular-notify.html",'<div class="cg-notify-message" ng-class="$classes" ng-style="$centerStyle" ng-click="$click()">\n\n    <div ng-show="!$messageTemplate">\n        {{$message}}\n    </div>\n\n    <div ng-show="$messageTemplate" class="cg-notify-message-template">\n        \n    </div>\n\n    <button type="button" class="cg-notify-close" ng-click="$close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="cg-notify-sr-only">Close</span>\n    </button>\n\n</div>')}]);